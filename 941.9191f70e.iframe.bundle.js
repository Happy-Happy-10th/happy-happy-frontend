"use strict";(self.webpackChunkyoteyo_app=self.webpackChunkyoteyo_app||[]).push([[941],{"./src/@mock/calendar.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>calendarEvents});new Date(2025,6,8,10,0),new Date(2025,6,8,11,30),new Date(2025,6,9,13,0),new Date(2025,6,9,14,0),new Date(2025,6,11),new Date(2025,6,11),new Date(2025,6,11),new Date(2025,6,17),new Date(2025,6,11,13,0),new Date(2025,6,12,12,0);const calendarEvents=[{title:"무신사",start:new Date(2025,6,8,10,0),end:new Date(2025,6,8,11,30),color:"#1A73E8",colorType:"yoteyoRed",stage:1,allDay:!1},{title:"올리브영",start:new Date(2025,6,9,13,0),end:new Date(2025,6,9,14,0),color:"#F97316",colorType:"yoteyoOrange",stage:2,allDay:!1},{title:"하이마트",start:new Date(2025,6,11),end:new Date(2025,6,11),color:"#22C55E",colorType:"yoteyoYellow",stage:3,allDay:!0},{title:"쿠팡",start:new Date(2025,6,11),end:new Date(2025,6,17),color:"#F97316",colorType:"yoteyoGreen",stage:2,allDay:!0},{title:"CGV",start:new Date(2025,6,15),end:new Date(2025,6,18),color:"#F97316",colorType:"yoteyoEmerald",stage:2,allDay:!0},{title:"홈플러스",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoSky",stage:2,allDay:!0},{title:"홈플러스2",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoBlue",stage:2,allDay:!0},{title:"홈플러스3",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoPurple",stage:2,allDay:!0},{title:"홈플러스4",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoPink",stage:2,allDay:!0},{title:"홈플러스5",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoBlack",stage:2,allDay:!0},{title:"홈플러스6",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoBlack",stage:2,allDay:!0},{title:"홈플러스7",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoBlack",stage:2,allDay:!0},{title:"홈플러스8",start:new Date(2025,6,11,13,0),end:new Date(2025,6,12,12,0),color:"#F97316",colorType:"yoteyoBlack",stage:2,allDay:!0},{title:"30",start:new Date(2025,6,30,13,0),end:new Date(2025,6,30,12,0),color:"#F97316",colorType:"yoteyoBlack",stage:2,allDay:!0},{title:"30",start:new Date(2025,6,30,13,0),end:new Date(2025,7,1,12,0),color:"#F97316",colorType:"yoteyoEmerald",stage:2,allDay:!0},{title:"30",start:new Date(2025,6,29,13,0),end:new Date(2025,6,30,12,0),color:"#F97316",colorType:"yoteyoRed",stage:2,allDay:!0},{title:"30",start:new Date(2025,6,30,13,0),end:new Date(2025,6,30,12,0),color:"#F97316",colorType:"yoteyoOrange",stage:2,allDay:!0},{title:"30",start:new Date(2025,6,30,13,0),end:new Date(2025,6,31,12,0),color:"#F97316",colorType:"yoteyoBlack",stage:2,allDay:!0}]},"./src/components/features/calendar/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yi:()=>CalendarContext,yC:()=>CustomCalendar});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),useQuery=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useQuery.js");new(__webpack_require__("./node_modules/@tanstack/query-core/build/modern/queryClient.js").E);var distribution=__webpack_require__("./node_modules/ky/distribution/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const yoteyoAPI=distribution.Ay.create({prefixUrl:"/api",hooks:{beforeRequest:[async()=>{console.log("before!")}],afterResponse:[async()=>{console.log("after!")}],beforeError:[error=>error]}});var dist=__webpack_require__("./node_modules/@lukemorales/query-key-factory/dist/index.mjs");const calendarKeys=(0,dist.DY)("calendar",{events:()=>({queryKey:["events"]}),settings:()=>({queryKey:["settings"]})}),productsKeys=(0,dist.DY)("products",{list:()=>({queryKey:["get-products"]}),detail:id=>({queryKey:["get-product",id]})}),queryKeys=(0,dist.h0)(calendarKeys,productsKeys);var dateConverter=__webpack_require__("./src/utils/calendar/dateConverter.ts");const calendarService={events:async()=>{const{result,isMondayStart}=await async function getUserEvents(){return await yoteyoAPI("getCalendarEvents",{method:"get",headers:{"Content-Type":"application/json"}})}().then(res=>res.json());return{events:(0,dateConverter.convertStringToDate)(result),isMondayStart}},setting:async()=>(await async function getUserSetting(){return await yoteyoAPI("getUserSettings",{method:"get",headers:{"Content-Type":"application/json"}})}()).json()},CalendarContext=(0,react.createContext)(null);var class_variance_authority_dist=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),react_big_calendar_esm=__webpack_require__("./node_modules/react-big-calendar/dist/react-big-calendar.esm.js"),format=(__webpack_require__("./node_modules/react-big-calendar/lib/css/react-big-calendar.css"),__webpack_require__("./node_modules/date-fns/format.js")),parse=__webpack_require__("./node_modules/date-fns/parse.js"),startOfWeek=__webpack_require__("./node_modules/date-fns/startOfWeek.js"),getDay=__webpack_require__("./node_modules/date-fns/getDay.js"),addMonths=__webpack_require__("./node_modules/date-fns/addMonths.js"),subMonths=__webpack_require__("./node_modules/date-fns/subMonths.js"),ko=__webpack_require__("./node_modules/date-fns/locale/ko.js"),en_US=__webpack_require__("./node_modules/date-fns/locale/en-US.js"),chevron_down=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),rotate_ccw=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/rotate-ccw.js"),settings=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/settings.js");function CalendarToolbar({date,onNavigate}){const formatted=(0,format.GP)(date,"yyyy.M",{locale:en_US.c});return(0,jsx_runtime.jsxs)("div",{className:"w-full flex justify-between bg-yoteyo-gray-100 pb-[10px]",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center gap-[6px]",children:[(0,jsx_runtime.jsx)("span",{className:"text-[30px] font-bold",children:formatted}),(0,jsx_runtime.jsx)(chevron_down.A,{})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center gap-[14px]",children:[(0,jsx_runtime.jsxs)("button",{className:"w-[66px] h-[24px] rounded-[50px] border-1 border-solid flex justify-center items-center gap-[4px]",children:[(0,jsx_runtime.jsx)(rotate_ccw.A,{size:"10px"}),(0,jsx_runtime.jsx)("span",{children:"Today"})]}),(0,jsx_runtime.jsx)(settings.A,{size:24})]})]})}function CalendarMonthHeader({date}){const day=(0,format.GP)(date,"EEE",{locale:ko.ko});return(0,jsx_runtime.jsx)("div",{className:"text-center font-bold text-[#999999] text-[14px] border-none",children:day})}CalendarToolbar.__docgenInfo={description:"",methods:[],displayName:"CalendarToolbar"},CalendarMonthHeader.__docgenInfo={description:"",methods:[],displayName:"CalendarMonthHeader"};var isSameDay=__webpack_require__("./node_modules/date-fns/isSameDay.js"),tailwind_utils=__webpack_require__("./src/utils/tailwind-utils.ts");const dateHeadVariants=(0,class_variance_authority_dist.F)("",{variants:{variant:{custom:"\n          flex justify-center items-center\n          w-[48px] h-[24px] text-[14px]\n        "}}});function CalendarDateHeader(props){const{date,label,isOffRange}=props,day=date.getDay(),isToday=(0,isSameDay.r)(date,new Date);return(0,jsx_runtime.jsx)("div",{className:(0,tailwind_utils.cn)(dateHeadVariants({variant:"custom"})),children:(0,jsx_runtime.jsxs)("div",{className:(0,tailwind_utils.cn)("m-0 p-o w-[20px] h-[20px] flex justify-center items-center",0===day&&"text-red-500",6===day&&"text-blue-500",isOffRange&&"opacity-50",isToday&&"bg-main rounded-full text-white font-normal"),children:[(0,format.GP)(date,"d")," "]})})}CalendarDateHeader.__docgenInfo={description:"",methods:[],displayName:"CalendarDateHeader"};const evnetBarVariants=(0,class_variance_authority_dist.F)("w-full h-[6px] rounded-[2px]",{variants:{variant:{yoteyoRed:"bg-yoteyo-red",yoteyoOrange:"bg-yoteyo-orange",yoteyoYellow:"bg-yoteyo-yellow",yoteyoGreen:"bg-yoteyo-green",yoteyoEmerald:"bg-yoteyo-emerald",yoteyoSky:"bg-yoteyo-sky",yoteyoBlue:"bg-yoteyo-blue",yoteyoPurple:"bg-yoteyo-purple",yoteyoPink:"bg-yoteyo-pink",yoteyoBlack:"bg-yoteyo-black",default:"bg-yoteyo-main"}}});function EventBar({start,end,title,color,colorType,stage,allDay}){return(0,jsx_runtime.jsx)("div",{className:(0,tailwind_utils.cn)(evnetBarVariants({variant:colorType}))})}EventBar.__docgenInfo={description:"",methods:[],displayName:"EventBar"};const DetailEvent_evnetBarVariants=(0,class_variance_authority_dist.F)("w-full h-full flex flex-row justify-between rounded-[4px] text-[11px] overflow-hidden",{variants:{variant:{yoteyoRed:"bg-yoteyo-red",yoteyoOrange:"bg-yoteyo-orange",yoteyoYellow:"bg-yoteyo-yellow",yoteyoGreen:"bg-yoteyo-green",yoteyoEmerald:"bg-yoteyo-emerald",yoteyoSky:"bg-yoteyo-sky",yoteyoBlue:"bg-yoteyo-blue",yoteyoPurple:"bg-yoteyo-purple",yoteyoPink:"bg-yoteyo-pink",yoteyoBlack:"bg-yoteyo-black",default:"bg-yoteyo-main"}}}),eventChildVariants=(0,class_variance_authority_dist.F)("pl-[5px] w-[2px] h-[16.5px] rounded-[4px]",{variants:{variant:{yoteyoRed:"bg-yoteyo-red",yoteyoOrange:"bg-yoteyo-orange",yoteyoYellow:"bg-yoteyo-yellow",yoteyoGreen:"bg-yoteyo-green",yoteyoEmerald:"bg-yoteyo-emerald",yoteyoSky:"bg-yoteyo-sky",yoteyoBlue:"bg-yoteyo-blue",yoteyoPurple:"bg-yoteyo-purple",yoteyoPink:"bg-yoteyo-pink",yoteyoBlack:"bg-yoteyo-black",default:"bg-yoteyo-main"}}});function CalendarEvent({start,end,title,color,colorType,stage,allDay}){return(0,jsx_runtime.jsxs)("div",{className:(0,tailwind_utils.cn)(DetailEvent_evnetBarVariants({variant:colorType})),children:[(0,jsx_runtime.jsx)("div",{className:(0,tailwind_utils.cn)(eventChildVariants({variant:colorType}))}),(0,jsx_runtime.jsx)("div",{className:"w-[95%] flex justify-center",children:title})]})}CalendarEvent.__docgenInfo={description:"",methods:[],displayName:"CalendarEvent"};const calendarVariants=(0,class_variance_authority_dist.F)("[&_.rbc-row-bg]:!right-[0]\n  [&_.rbc-date-cell]:!pr-0\n  [&_.rbc-event]:!p-0\n  [&_.rbc-today]:!bg-transparent\n  [&_.rbc-off-range-bg]:!bg-transparent\n  [&_.rbc-date-cell]:!pb-[4px]\n  [&_.rbc-event]:!mb-[1px]\n  [&_.rbc-event]:!bg-transparent\n  [&_.rbc-event-content]:truncate text-[11px]\n  [&_.rbc-date-cell]:!flex\n  [&_.rbc-date-cell]:!justify-center\n  [&_.rbc-month-view]:!rounded-[8px]\n  ",{variants:{variant:{clearBorder:"\n          [&_.rbc-month-view]:border-none! \n          [&_.rbc-day-bg]:border-none!\n          [&_.rbc-header]:border-none!\n          [&_.rbc-month-row]:border-none!\n          ",default:""}}});function CalendarView(){const{events,isMondayStart,currentDate,setCurrentDate}=function useCalendarContext(){const calendarCtx=(0,react.useContext)(CalendarContext);if(!calendarCtx)throw new Error("useCalendarContext must be inside <UserCalendar>");return calendarCtx}(),containerRef=(0,react.useRef)(null),lastScrollTime=(0,react.useRef)(0),[isWide,setIsWide]=(0,react.useState)(!1),localizer=(0,react_big_calendar_esm.Hz)({format:format.GP,parse:parse.qg,startOfWeek:()=>(0,startOfWeek.k)(new Date,{weekStartsOn:isMondayStart?1:0}),getDay:getDay.P,locales:{ko:ko.ko}});return(0,react.useEffect)(()=>{const container=containerRef.current;if(!container)return;const handleWheel=e=>{const now=Date.now();now-lastScrollTime.current<500||(lastScrollTime.current=now,e.preventDefault(),e.deltaY>0?setCurrentDate(prev=>(0,addMonths.P)(prev,1)):e.deltaY<0&&setCurrentDate(prev=>(0,subMonths.a)(prev,1)))},observer=new ResizeObserver(([entry])=>{setIsWide(entry.contentRect.width>=800)});return observer.observe(container),container.addEventListener("wheel",handleWheel,{passive:!1}),()=>{container.removeEventListener("wheel",handleWheel),observer.disconnect()}},[isMondayStart]),(0,jsx_runtime.jsx)("div",{ref:containerRef,className:"h-full w-full",children:(0,jsx_runtime.jsx)(react_big_calendar_esm.Vv,{className:calendarVariants({variant:"clearBorder"}),localizer,events,startAccessor:"start",endAccessor:"end",view:"month",date:currentDate,onNavigate:setCurrentDate,style:{height:"100%",width:"100%"},popup:!0,components:{event:eventProps=>isWide?(0,jsx_runtime.jsx)(CalendarEvent,{...eventProps.event}):(0,jsx_runtime.jsx)(EventBar,{...eventProps.event}),toolbar:CalendarToolbar,month:{header:CalendarMonthHeader,dateHeader:CalendarDateHeader}}})})}function CustomCalendar({children,calendarHightPx,calendarWidthPx}){const{data,status}=(0,useQuery.I)({queryKey:queryKeys.calendar.events().queryKey,queryFn:calendarService.events}),[currentDate,setCurrentDate]=(0,react.useState)(new Date);return"pending"===status?(0,jsx_runtime.jsx)("p",{children:"이벤트를 불러오는 중입니다..."}):"success"!==status?null:(0,jsx_runtime.jsx)(CalendarContext.Provider,{value:{events:(null==data?void 0:data.events)||[],isMondayStart:(null==data?void 0:data.isMondayStart)||!0,currentDate,setCurrentDate},children})}CalendarView.__docgenInfo={description:"",methods:[],displayName:"CalendarView"},CustomCalendar.View=CalendarView,CustomCalendar.__docgenInfo={description:"",methods:[{name:"View",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"CustomCalendar",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},calendarHightPx:{required:!0,tsType:{name:"string"},description:""},calendarWidthPx:{required:!0,tsType:{name:"string"},description:""}}}},"./src/utils/calendar/dateConverter.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function convertEventDateToString(event){return{...event,start:formatDateToString(event.start),end:formatDateToString(event.end)}}function formatDateToString(date){return`${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}-${date.getHours()}`}__webpack_require__.d(__webpack_exports__,{qO:()=>convertEventDateToString})},"./src/utils/tailwind-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}}}]);