"use strict";(self.webpackChunkyoteyo_app=self.webpackChunkyoteyo_app||[]).push([[536],{"./src/components/layouts/ServiceLayout.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ServiceLayout});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_components_features__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/features/index.ts");const rootFrame=(0,clsx__WEBPACK_IMPORTED_MODULE_2__.A)("w-full h-full flex flex-col","max-w-[1280px]","bg-yoteyo-gray-100"),contentsFrame=(0,clsx__WEBPACK_IMPORTED_MODULE_2__.A)("flex-1 flex","overflow-hidden"),contentsBody=(0,clsx__WEBPACK_IMPORTED_MODULE_2__.A)("flex-1 w-full","rounded-[8px] bg-white"),navigator=(0,clsx__WEBPACK_IMPORTED_MODULE_2__.A)("w-full shrink-0");function ServiceLayout({children,showBottomTab=!0}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-screen h-screen flex justify-center ",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:rootFrame,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:contentsFrame,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:contentsBody,children})}),showBottomTab&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:navigator,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_features__WEBPACK_IMPORTED_MODULE_1__.xo,{})})]})})}ServiceLayout.__docgenInfo={description:"",methods:[],displayName:"ServiceLayout",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},showBottomTab:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}}},"./src/stories/pages/Calendar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Calendar:()=>Calendar,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Calendar_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),ServiceLayout=__webpack_require__("./src/components/layouts/ServiceLayout.tsx"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),calendar=__webpack_require__("./src/components/features/calendar/index.ts"),DayEventList=__webpack_require__("./src/components/features/dayEventList/DayEventList.tsx"),hooks=__webpack_require__("./src/hooks/index.ts"),startOfDay=__webpack_require__("./node_modules/date-fns/startOfDay.js"),endOfDay=__webpack_require__("./node_modules/date-fns/endOfDay.js"),isWithinInterval=__webpack_require__("./node_modules/date-fns/isWithinInterval.js"),useQuery=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useQuery.js"),api=__webpack_require__("./src/api/index.ts"),service_calendar=__webpack_require__("./src/api/service/calendar/index.ts"),esm_react=__webpack_require__("./node_modules/zustand/esm/react.mjs"),store=__webpack_require__("./src/store/index.ts");const contents=(0,clsx.A)("w-full h-full flex gap-[20px] bg-yoteyo-gray-100","xl:p-[30px] xl:pb-[5px]","flex-col xl:flex-row"),calendarSize=(0,clsx.A)("bg-white flex-1","min-h-[220px] xl:min-h-0","ml-[20px] mr-[20px] mt-[26px]","xl:ml-0 xl:mr-0 xl:mt-0"),eventList=(0,clsx.A)("bg-white","xl:w-[304px] h-[187px] xl:h-auto xl:mt-[48px]","rounded-[8px]");function CalendarPage(){const[currentDate,setCurrentDate]=(0,hooks.x)(new Date),[selectedDate,setSelectedDate]=(0,react.useState)(new Date),[dayEvents,setDayEvents]=(0,react.useState)([]),year=currentDate.getFullYear(),{user}=(0,esm_react.P)(store.n),{data}=(0,useQuery.I)({queryKey:api.lH.calendar.events(year).queryKey,queryFn:()=>service_calendar.A.getEvents(year,user.calendarId),enabled:!!(null==user?void 0:user.calendarId)});return(0,jsx_runtime.jsxs)("div",{className:contents,children:[(0,jsx_runtime.jsx)("div",{className:calendarSize,children:(0,jsx_runtime.jsx)(calendar.Yi.Provider,{value:{events:data||[],isMondayStart:!0,currentDate,handleCurrentDate:setCurrentDate,handleSetSelectedDate:today=>{setSelectedDate(today);const selectedDayStart=(0,startOfDay.o)(today),selectedDayEnd=(0,endOfDay.D)(today),filtered=null==data?void 0:data.filter(event=>{const eventStart=new Date(event.startDate),eventEnd=new Date(event.endDate);return(0,isWithinInterval.v)(selectedDayStart,{start:eventStart,end:eventEnd})||(0,isWithinInterval.v)(selectedDayEnd,{start:eventStart,end:eventEnd})||(0,isWithinInterval.v)(eventStart,{start:selectedDayStart,end:selectedDayEnd})});setDayEvents(filtered||[])}},children:(0,jsx_runtime.jsx)(calendar.yC.View,{})})}),(0,jsx_runtime.jsx)("div",{className:eventList,children:(0,jsx_runtime.jsx)(DayEventList.A,{selectedDate,dayEvents})})]})}CalendarPage.__docgenInfo={description:"",methods:[],displayName:"CalendarPage"};const Calendar_stories={title:"pages/Calendar",component:CalendarPage},Calendar={render:args=>(0,jsx_runtime.jsx)("div",{className:"w-screen h-screen",children:(0,jsx_runtime.jsx)(ServiceLayout.A,{children:(0,jsx_runtime.jsx)(CalendarPage,{})})})},__namedExportsOrder=["Calendar"]}}]);